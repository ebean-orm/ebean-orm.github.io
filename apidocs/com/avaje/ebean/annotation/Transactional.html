<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_102) on Fri Nov 04 19:18:54 NZDT 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Transactional (ebean 8.8.1 API)</title>
<meta name="date" content="2016-11-04">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Transactional (ebean 8.8.1 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Transactional.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/avaje/ebean/annotation/Sql.html" title="annotation in com.avaje.ebean.annotation"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/avaje/ebean/annotation/UpdatedTimestamp.html" title="annotation in com.avaje.ebean.annotation"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/avaje/ebean/annotation/Transactional.html" target="_top">Frames</a></li>
<li><a href="Transactional.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.avaje.ebean.annotation</div>
<h2 title="Annotation Type Transactional" class="title">Annotation Type Transactional</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/annotation/Target.html?is-external=true" title="class or interface in java.lang.annotation">@Target</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/annotation/Target.html?is-external=true#value--" title="class or interface in java.lang.annotation">value</a>={<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/annotation/ElementType.html?is-external=true#METHOD" title="class or interface in java.lang.annotation">METHOD</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/annotation/ElementType.html?is-external=true#TYPE" title="class or interface in java.lang.annotation">TYPE</a>})
 <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/annotation/Retention.html?is-external=true" title="class or interface in java.lang.annotation">@Retention</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/annotation/Retention.html?is-external=true#value--" title="class or interface in java.lang.annotation">value</a>=<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/annotation/RetentionPolicy.html?is-external=true#RUNTIME" title="class or interface in java.lang.annotation">RUNTIME</a>)
public @interface <a href="../../../../src-html/com/avaje/ebean/annotation/Transactional.html#line.63">Transactional</a></pre>
<div class="block">Specify transaction scoping for a method.
<p>
<b><i> This is only supported if "Enhancement" is used via javaagent, ANT
task or IDE enhancement plugin etc. </i></b>
</p>
<p>
Note: Currently there are 3 known annotations that perform this role.
<ul>
<li>EJB's javax.ejb.TransactionAttribute</li>
<li>Spring's org.springframework.transaction.annotation.Transactional</li>
<li>and this one, Ebean's own com.avaje.ebean.annotation.Transactional</li>
</ul>
Spring created their one because the EJB annotation does not support features
such as isolation level and specifying rollbackOn, noRollbackOn exceptions.
This one exists for Ebean because I agree that the standard one is
insufficient and don't want to include a dependency on Spring.
</p>
<p>
The default behaviour of EJB (and hence Spring) is to NOT ROLLBACK on checked
exceptions. I find this very counter-intuitive. Ebean will provide a property
to set the default behaviour to rollback on any exception and optionally
change the setting to be consistent with EJB/Spring if people wish to do so.
</p>

<div class="syntax java"><div class="highlight"><pre> <span class="c1">// a normal class</span>
 <span class="kd">public</span> <span class="kd">class</span> <span class="nc">MySimpleUserService</span> <span class="o">{</span>

   <span class="c1">// this method is transactional automatically handling</span>
   <span class="c1">// transaction begin, commit and rollback etc</span>
   <span class="nd">@Transactional</span>
   <span class="kd">public</span> <span class="kt">void</span> <span class="nf">runInTrans</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>

     <span class="c1">// tasks performed within the transaction</span>
     <span class="o">...</span>
     <span class="c1">// find some objects</span>
     <span class="n">Customer</span> <span class="n">cust</span> <span class="o">=</span> <span class="n">ebeanServer</span><span class="o">.</span><span class="na">find</span><span class="o">(</span><span class="n">Customer</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="mi">42</span><span class="o">);</span>
   
     <span class="n">Order</span> <span class="n">order</span> <span class="o">=</span> <span class="o">...;</span>
     <span class="o">...</span>
     <span class="c1">// save some objects</span>
     <span class="n">ebeanServer</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">customer</span><span class="o">);</span>
     <span class="n">ebeanServer</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">order</span><span class="o">);</span>
   <span class="o">}</span>
</pre></div>
</div></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== ANNOTATION TYPE OPTIONAL MEMBER SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.optional.element.summary">
<!--   -->
</a>
<h3>Optional Element Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Optional Element Summary table, listing optional elements, and an explanation">
<caption><span>Optional Elements</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Optional Element and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/avaje/ebean/config/PersistBatch.html" title="enum in com.avaje.ebean.config">PersistBatch</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/avaje/ebean/annotation/Transactional.html#batch--">batch</a></span></code>
<div class="block">Persist batch mode for the transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/avaje/ebean/config/PersistBatch.html" title="enum in com.avaje.ebean.config">PersistBatch</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/avaje/ebean/annotation/Transactional.html#batchOnCascade--">batchOnCascade</a></span></code>
<div class="block">Persist batch mode for the request if not set on the transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/avaje/ebean/annotation/Transactional.html#batchSize--">batchSize</a></span></code>
<div class="block">The batch size to use when using JDBC batch mode.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/avaje/ebean/annotation/Transactional.html#getGeneratedKeys--">getGeneratedKeys</a></span></code>
<div class="block">Set to false when we want to skip getting generatedKeys.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/avaje/ebean/TxIsolation.html" title="enum in com.avaje.ebean">TxIsolation</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/avaje/ebean/annotation/Transactional.html#isolation--">isolation</a></span></code>
<div class="block">The transaction isolation level this transaction should have.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;? extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&gt;[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/avaje/ebean/annotation/Transactional.html#noRollbackFor--">noRollbackFor</a></span></code>
<div class="block">The Throwable's that will explicitly NOT cause a rollback to occur.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/avaje/ebean/annotation/Transactional.html#readOnly--">readOnly</a></span></code>
<div class="block">Set this to true if the transaction should be only contain queries.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;? extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&gt;[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/avaje/ebean/annotation/Transactional.html#rollbackFor--">rollbackFor</a></span></code>
<div class="block">The Throwable's that will explicitly cause a rollback to occur.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/avaje/ebean/annotation/Transactional.html#serverName--">serverName</a></span></code>
<div class="block">The name of the server that you want the transaction to be created from.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/avaje/ebean/TxType.html" title="enum in com.avaje.ebean">TxType</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/avaje/ebean/annotation/Transactional.html#type--">type</a></span></code>
<div class="block">The type of transaction scoping.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ ANNOTATION TYPE MEMBER DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.element.detail">
<!--   -->
</a>
<h3>Element Detail</h3>
<a name="type--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>type</h4>
<pre>public abstract&nbsp;<a href="../../../../com/avaje/ebean/TxType.html" title="enum in com.avaje.ebean">TxType</a>&nbsp;<a href="../../../../src-html/com/avaje/ebean/annotation/Transactional.html#line.68">type</a></pre>
<div class="block">The type of transaction scoping. Defaults to REQUIRED.</div>
<dl>
<dt>Default:</dt>
<dd>com.avaje.ebean.TxType.REQUIRED</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="batch--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>batch</h4>
<pre>public abstract&nbsp;<a href="../../../../com/avaje/ebean/config/PersistBatch.html" title="enum in com.avaje.ebean.config">PersistBatch</a>&nbsp;<a href="../../../../src-html/com/avaje/ebean/annotation/Transactional.html#line.73">batch</a></pre>
<div class="block">Persist batch mode for the transaction.</div>
<dl>
<dt>Default:</dt>
<dd>com.avaje.ebean.config.PersistBatch.INHERIT</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="batchOnCascade--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>batchOnCascade</h4>
<pre>public abstract&nbsp;<a href="../../../../com/avaje/ebean/config/PersistBatch.html" title="enum in com.avaje.ebean.config">PersistBatch</a>&nbsp;<a href="../../../../src-html/com/avaje/ebean/annotation/Transactional.html#line.83">batchOnCascade</a></pre>
<div class="block">Persist batch mode for the request if not set on the transaction.
<p>
If batch is set to NONE then batchOnCascade can be set to INSERT or ALL
and then each save(), delete(), insert(), update() request that cascades
to child beans can use JDBC batch.
</p></div>
<dl>
<dt>Default:</dt>
<dd>com.avaje.ebean.config.PersistBatch.INHERIT</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="batchSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>batchSize</h4>
<pre>public abstract&nbsp;int&nbsp;<a href="../../../../src-html/com/avaje/ebean/annotation/Transactional.html#line.91">batchSize</a></pre>
<div class="block">The batch size to use when using JDBC batch mode.
<p>
If unset this defaults to the value set in ServerConfig.
</p></div>
<dl>
<dt>Default:</dt>
<dd>0</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="getGeneratedKeys--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGeneratedKeys</h4>
<pre>public abstract&nbsp;boolean&nbsp;<a href="../../../../src-html/com/avaje/ebean/annotation/Transactional.html#line.101">getGeneratedKeys</a></pre>
<div class="block">Set to false when we want to skip getting generatedKeys.
<p>
This is typically used in the case of large batch inserts where we get a
performance benefit from not calling getGeneratedKeys (as we are going to
insert a lot of rows and have no need for the Id values after the insert).
</p></div>
<dl>
<dt>Default:</dt>
<dd>true</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="isolation--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isolation</h4>
<pre>public abstract&nbsp;<a href="../../../../com/avaje/ebean/TxIsolation.html" title="enum in com.avaje.ebean">TxIsolation</a>&nbsp;<a href="../../../../src-html/com/avaje/ebean/annotation/Transactional.html#line.111">isolation</a></pre>
<div class="block">The transaction isolation level this transaction should have.
<p>
This will only be used if this scope creates the transaction. If the
transaction has already started then this will currently be ignored (you
could argue that it should throw an exception).
</p></div>
<dl>
<dt>Default:</dt>
<dd>com.avaje.ebean.TxIsolation.DEFAULT</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="readOnly--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readOnly</h4>
<pre>public abstract&nbsp;boolean&nbsp;<a href="../../../../src-html/com/avaje/ebean/annotation/Transactional.html#line.116">readOnly</a></pre>
<div class="block">Set this to true if the transaction should be only contain queries.</div>
<dl>
<dt>Default:</dt>
<dd>false</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="serverName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serverName</h4>
<pre>public abstract&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../src-html/com/avaje/ebean/annotation/Transactional.html#line.124">serverName</a></pre>
<div class="block">The name of the server that you want the transaction to be created from.
<p>
If left blank the 'default' server is used.
</p></div>
<dl>
<dt>Default:</dt>
<dd>""</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="rollbackFor--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollbackFor</h4>
<pre>public abstract&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;? extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&gt;[]&nbsp;<a href="../../../../src-html/com/avaje/ebean/annotation/Transactional.html#line.131">rollbackFor</a></pre>
<div class="block">The Throwable's that will explicitly cause a rollback to occur.</div>
<dl>
<dt>Default:</dt>
<dd>{}</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="noRollbackFor--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>noRollbackFor</h4>
<pre>public abstract&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;? extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&gt;[]&nbsp;<a href="../../../../src-html/com/avaje/ebean/annotation/Transactional.html#line.136">noRollbackFor</a></pre>
<div class="block">The Throwable's that will explicitly NOT cause a rollback to occur.</div>
<dl>
<dt>Default:</dt>
<dd>{}</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Transactional.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/avaje/ebean/annotation/Sql.html" title="annotation in com.avaje.ebean.annotation"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/avaje/ebean/annotation/UpdatedTimestamp.html" title="annotation in com.avaje.ebean.annotation"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/avaje/ebean/annotation/Transactional.html" target="_top">Frames</a></li>
<li><a href="Transactional.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2016. All rights reserved.</small></p>
</body>
</html>
