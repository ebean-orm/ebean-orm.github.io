<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta id="layout-head" />
    <title>avaje ebean</title>
    <link rel="shortcut icon" href="/images/favicon.ico" >
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/pygments.css" rel="stylesheet" type="text/css" />
    <link href="/css/site.css" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
  <div id="wrap">    
    <div id="header">    
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Ebean ORM</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav pull-right">
            <li ><a href="/"><span class="glyphicon glyphicon-home"></span>  Home</a></li>
            <li ><a href="/quickstart">Quick Start</a></li>
            <li ><a href="/support">Support</a></li>
            <li class="active"><a href="/documentation">Documentation</a></li>
            <li ><a href="/releases">Releases</a></li>
            <li ><a href="https://github.com/ebean-orm/avaje-ebeanorm"> <i class="fa fa-github"></i> Github</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

  </div>
  <div id="main">    
<div class="jumbotron mini">
    <div class="container">
      <h1><a href="/documentation">Documentation</a> / Transactions</h1>
    </div>
  </div>

  <div class="container">
  <div class="row">
    <div class="col-md-3">

    <div class="sidebar-nav">
      <div class="navbar navbar-default" role="navigation">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".sidebar-navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <span class="visible-xs navbar-brand">Sidebar menu</span>
        </div>
        <div class="navbar-collapse collapse sidebar-navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="/docs/transactions/implicit">Implicit Transactions</a></li>
            <li ><a href="/docs/transactions/begincommit">Programmatic</a></li>
            <li ><a href="/docs/transactions/transactional">@Transactional</a></li>
            <li ><a href="/docs/transactions/txrunnable">TxRunnable, TxCallable</a></li>
            <li ><a href="/docs/transactions/spring">Spring Transaction Manager</a></li>
            <li ><a href="/docs/transactions/jta">JTA Transactions</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>


    </div>  
    <div class="col-md-9">

<h1>Implicit Transactions</h1>
<h4>Transactions are created implicitly for you</h4>

<p>
When there is no current transaction you can still execute a query, save or delete a bean etc.
When this happens Ebean will create an implicit transaction and commit it (or rollback if there was a failure).
</p>

<div class="syntax java"><div class="highlight"><pre><span class="c1">// execute a query without an existing transaction...  </span>
<span class="c1">// ... a &quot;implicit&quot; transaction will be created  </span>
<span class="c1">// ... and be commited (or rolled back) for you </span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">users</span> <span class="o">=</span>   
            <span class="n">Ebean</span><span class="o">.</span><span class="na">find</span><span class="o">(</span><span class="n">User</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>  
                <span class="o">.</span><span class="na">join</span><span class="o">(</span><span class="s">&quot;customer&quot;</span><span class="o">)</span>  
                <span class="o">.</span><span class="na">where</span><span class="o">().</span><span class="na">eq</span><span class="o">(</span><span class="s">&quot;state&quot;</span><span class="o">,</span> <span class="n">UserState</span><span class="o">.</span><span class="na">ACTIVE</span><span class="o">)</span>  
                <span class="o">.</span><span class="na">findList</span><span class="o">();</span>  
  
<span class="c1">// execute a save without an existing transaction...  </span>
<span class="c1">// ... will create an implicit transaction   </span>
<span class="c1">// ... and be commited (or rolled back) for you  </span>
<span class="n">Ebean</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>  
</pre></div>
</div>

<h3>Logs</h3>
<p>
The following SLF4J logs show the transaction that was implicitly created for the query.  
</p>
<div class="syntax java"><div class="highlight"><pre><span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.362</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">DEBUG</span> <span class="n">c</span><span class="o">.</span><span class="na">a</span><span class="o">.</span><span class="na">e</span><span class="o">.</span><span class="na">server</span><span class="o">.</span><span class="na">lib</span><span class="o">.</span><span class="na">thread</span><span class="o">.</span><span class="na">ThreadPool</span> <span class="o">-</span> <span class="n">ThreadPool</span> <span class="n">grow</span> <span class="n">created</span> <span class="o">[</span><span class="n">Ebean</span><span class="o">-</span><span class="n">h2</span><span class="o">.</span><span class="mi">0</span><span class="o">]</span> <span class="n">size</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.369</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">TRACE</span> <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">TXN</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1002</span><span class="o">]</span> <span class="n">Begin</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.548</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">INFO</span>  <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">TXN</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1002</span><span class="o">]</span> <span class="n">Commit</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.551</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">TRACE</span> <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">TXN</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1003</span><span class="o">]</span> <span class="n">Begin</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.554</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">TRACE</span> <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">SQL</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1003</span><span class="o">]</span> <span class="n">delete</span> <span class="n">from</span> <span class="n">or_order_ship</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.555</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">DEBUG</span> <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">SUM</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1003</span><span class="o">]</span> <span class="n">Delete</span> <span class="n">table</span><span class="o">[</span><span class="n">or_order_ship</span><span class="o">]</span> <span class="n">rows</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="n">bind</span><span class="o">[</span><span class="kc">null</span><span class="o">]</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.556</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">TRACE</span> <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">SQL</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1003</span><span class="o">]</span> <span class="n">delete</span> <span class="n">from</span> <span class="n">o_order_detail</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.557</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">DEBUG</span> <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">SUM</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1003</span><span class="o">]</span> <span class="n">Delete</span> <span class="n">table</span><span class="o">[</span><span class="n">o_order_detail</span><span class="o">]</span> <span class="n">rows</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="n">bind</span><span class="o">[</span><span class="kc">null</span><span class="o">]</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.557</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">TRACE</span> <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">SQL</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1003</span><span class="o">]</span> <span class="n">delete</span> <span class="n">from</span> <span class="n">o_order</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.557</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">DEBUG</span> <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">SUM</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1003</span><span class="o">]</span> <span class="n">Delete</span> <span class="n">table</span><span class="o">[</span><span class="n">o_order</span><span class="o">]</span> <span class="n">rows</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="n">bind</span><span class="o">[</span><span class="kc">null</span><span class="o">]</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.557</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">TRACE</span> <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">SQL</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1003</span><span class="o">]</span> <span class="n">delete</span> <span class="n">from</span> <span class="n">contact</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.557</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">DEBUG</span> <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">SUM</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1003</span><span class="o">]</span> <span class="n">Delete</span> <span class="n">table</span><span class="o">[</span><span class="n">contact</span><span class="o">]</span> <span class="n">rows</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="n">bind</span><span class="o">[</span><span class="kc">null</span><span class="o">]</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.557</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">TRACE</span> <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">SQL</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1003</span><span class="o">]</span> <span class="n">delete</span> <span class="n">from</span> <span class="n">o_customer</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.557</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">DEBUG</span> <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">SUM</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1003</span><span class="o">]</span> <span class="n">Delete</span> <span class="n">table</span><span class="o">[</span><span class="n">o_customer</span><span class="o">]</span> <span class="n">rows</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="n">bind</span><span class="o">[</span><span class="kc">null</span><span class="o">]</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.557</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">TRACE</span> <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">SQL</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1003</span><span class="o">]</span> <span class="n">delete</span> <span class="n">from</span> <span class="n">o_address</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.558</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">DEBUG</span> <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">SUM</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1003</span><span class="o">]</span> <span class="n">Delete</span> <span class="n">table</span><span class="o">[</span><span class="n">o_address</span><span class="o">]</span> <span class="n">rows</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="n">bind</span><span class="o">[</span><span class="kc">null</span><span class="o">]</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.563</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">TRACE</span> <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">SQL</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1003</span><span class="o">]</span> <span class="n">delete</span> <span class="n">from</span> <span class="n">o_country</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.563</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">DEBUG</span> <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">SUM</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1003</span><span class="o">]</span> <span class="n">DeleteSql</span> <span class="n">table</span><span class="o">[</span><span class="n">o_country</span><span class="o">]</span> <span class="n">rows</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="n">bind</span><span class="o">[</span><span class="kc">null</span><span class="o">]</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.563</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">TRACE</span> <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">SQL</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1003</span><span class="o">]</span> <span class="n">delete</span> <span class="n">from</span> <span class="n">o_product</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.564</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">DEBUG</span> <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">SUM</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1003</span><span class="o">]</span> <span class="n">DeleteSql</span> <span class="n">table</span><span class="o">[</span><span class="n">o_product</span><span class="o">]</span> <span class="n">rows</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="n">bind</span><span class="o">[</span><span class="kc">null</span><span class="o">]</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.567</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">TRACE</span> <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">SQL</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1003</span><span class="o">]</span> <span class="n">insert</span> <span class="n">into</span> <span class="n">o_country</span> <span class="o">(</span><span class="n">code</span><span class="o">,</span> <span class="n">name</span><span class="o">)</span> <span class="n">values</span> <span class="o">(?,?);</span> <span class="o">--</span><span class="n">bind</span><span class="o">(</span><span class="n">NZ</span><span class="o">,</span><span class="n">New</span> <span class="n">Zealand</span><span class="o">,)</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.568</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">DEBUG</span> <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">SUM</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1003</span><span class="o">]</span> <span class="n">Inserted</span> <span class="o">[</span><span class="n">Country</span><span class="o">]</span> <span class="o">[</span><span class="n">NZ</span><span class="o">]</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.568</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">TRACE</span> <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">SQL</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1003</span><span class="o">]</span> <span class="n">insert</span> <span class="n">into</span> <span class="n">o_country</span> <span class="o">(</span><span class="n">code</span><span class="o">,</span> <span class="n">name</span><span class="o">)</span> <span class="n">values</span> <span class="o">(?,?);</span> <span class="o">--</span><span class="n">bind</span><span class="o">(</span><span class="n">AU</span><span class="o">,</span><span class="n">Australia</span><span class="o">,)</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.568</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">DEBUG</span> <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">SUM</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1003</span><span class="o">]</span> <span class="n">Inserted</span> <span class="o">[</span><span class="n">Country</span><span class="o">]</span> <span class="o">[</span><span class="n">AU</span><span class="o">]</span>
<span class="mi">16</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mf">26.570</span> <span class="o">[</span><span class="n">main</span><span class="o">]</span> <span class="n">TRACE</span> <span class="n">org</span><span class="o">.</span><span class="na">avaje</span><span class="o">.</span><span class="na">ebean</span><span class="o">.</span><span class="na">SQL</span> <span class="o">-</span> <span class="n">txn</span><span class="o">[</span><span class="mi">1003</span><span class="o">]</span> <span class="n">insert</span> <span class="n">into</span> <span class="n">o_product</span> <span class="o">(</span><span class="n">id</span><span class="o">,</span> <span class="n">sku</span><span class="o">,</span> <span class="n">name</span><span class="o">,</span> <span class="n">cretime</span><span class="o">,</span> <span class="n">updtime</span><span class="o">)</span> <span class="n">values</span> <span class="o">(?,?,?,?,?);</span> <span class="o">--</span><span class="n">bind</span>
</pre></div>
</div> 

   </div>

    </div> <!-- /.row -->
  </div>  <!-- /.container -->    
  </div>
</div>

<footer id="footer">
 <div class="doc-footer">
  <ul class="doc-footer-links">
    <li><a href="/">Ebean ORM</a></li>
    <li> | </li>
    <li><a href="/metrics/index">Metrics</a></li>
    <li> | </li>
    <li><a href="/websitegenerator/index">Website Generator</a></li>
    <li> | </li>
    <li><a href="/jetty/index">Jetty Runnable War</a></li>
  </ul>
 </div>
</footer>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script src="/js/bootstrap.min.js"></script>
  </body>
</html>
